<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blob; </title>
</head>
<body>

    <h1>Gerar arquivos para download no navegador usando Blob e API de URL</h1>
    
    <a id="ts" download="file.txt">Teste</a>
    <a id="tcsv" download="file.csv">Teste CSV</a>
    
    <script>
        const blob = new Blob(["Ola mundo!"], {type: "text/plain"})
        ts.href = URL.createObjectURL(blob)

        const data = [
            ['col1','col2','col3'],
            [2,3,4],
            [11,20,40],
            [20,33,47],
        ]

        
        const blob2 = new Blob([makeCSV(data)])
        tcsv.href = URL.createObjectURL(blob2)
        
        function makeCSV(row){
            return row.map(r => r.join(',')).join('\n')
        }
        
        console.log(makeCSV(data));

    </script>
</body>
</html>